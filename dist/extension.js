"use strict";var x=Object.create;var f=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var w=(t,n)=>{for(var e in n)f(t,e,{get:n[e],enumerable:!0})},u=(t,n,e,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of g(n))!v.call(t,o)&&o!==e&&f(t,o,{get:()=>n[o],enumerable:!(s=y(n,o))||s.enumerable});return t};var l=(t,n,e)=>(e=t!=null?x(h(t)):{},u(n||!t||!t.__esModule?f(e,"default",{value:t,enumerable:!0}):e,t)),S=t=>u(f({},"__esModule",{value:!0}),t);var F={};w(F,{activate:()=>C,deactivate:()=>j});module.exports=S(F);var c=l(require("vscode")),a=l(require("fs")),r=l(require("path"));function C(t){let n=c.commands.registerCommand("file-content-extractor.extractJson",async s=>{let o=r.dirname(s.fsPath),i=r.join(o,"extracted_content.json"),d=await m(s.fsPath,!0);a.writeFileSync(i,d,"utf-8"),c.window.showInformationMessage(`Content extracted to ${i}`)}),e=c.commands.registerCommand("file-content-extractor.extractTxt",async s=>{let o=r.dirname(s.fsPath),i=r.join(o,"extracted_content.txt"),d=await m(s.fsPath,!1);a.writeFileSync(i,d,"utf-8"),c.window.showInformationMessage(`Content extracted to ${i}`)});t.subscriptions.push(n),t.subscriptions.push(e)}async function m(t,n){if(a.lstatSync(t).isDirectory()){let e={};return await p(t,async s=>{if(b(s))return;let o=a.readFileSync(s,"utf-8"),i=r.relative(t,s);n?e[i]=o:e[i]=`

${i}
${o}`}),n?JSON.stringify(e,null,2):Object.values(e).join(`
`)}else{let e=a.readFileSync(t,"utf-8"),s=r.relative(r.dirname(t),t);return n?JSON.stringify({[s]:e},null,2):`

${s}
${e}`}}async function p(t,n){let e=a.readdirSync(t);for(let s of e){let o=r.join(t,s);a.lstatSync(o).isDirectory()?await p(o,n):await n(o)}}function b(t){let n=[".png",".jpg",".jpeg",".gif",".bmp",".tiff",".env",".log"],e=[".exe",".dll",".bin",".so",".dylib"],s=r.extname(t).toLowerCase();return!!(t.includes("node_modules")||n.includes(s)||e.includes(s))}function j(){}0&&(module.exports={activate,deactivate});
